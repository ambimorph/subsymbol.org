<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>subsymbol.org</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="http://www.subsymbol.org/blog/">
<link rel="next" href="index-1.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../">

            <span id="blog-title">subsymbol.org</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../categories/blog/" class="nav-link">Blog</a>
                </li>
<li class="nav-item">
<a href="../journal/" class="nav-link">Journal</a>
                </li>
<li class="nav-item">
<a href="../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
    
        

    
        
    <div class="postindex">
            <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html" class="u-url">Some Philosophical Implications of Deacon's Model of Symbolic Reference</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html" rel="bookmark">
            <time class="published dt-published" datetime="2022-08-28T16:52:12-06:00" itemprop="datePublished" title="2022-08-28 16:52">2022-08-28 16:52</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#disqus_thread" data-disqus-identifier="cache/posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p><em>This is an attempt from a few years ago to assemble some thoughts on</em>
<em>Terrence Deacon's</em> The Symbolic Species.
<em>It is presented here as written then with a few minor edits.</em></p>
<!-- Explain the hierarchy itself -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<p>In his book <em>The Symbolic Species</em>,
Terrence Deacon sketches a theory of human language
aiming to explain how it is qualitatively different
from other forms of animal communication,
and not just a more advanced form of the same kind of communication <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id2" id="id1">1</a>.
I will summarize his model and attempt to describe how it
leads to particular stances on
a selection of problems in the philosophy of language
and of linguistics.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id1">1</a></span></dt>
<dd>
<p>Deacon, Terrence William and International Society for Science and Religion. The Symbolic Species: The Co-Evolution of Language and the Brain. Cambridge: International Society for Science and Religion, 2007.</p>
</dd>
</dl>
<p>Deacon argues that different modes of reference entail properties
that constrain or allow different degrees of expressiveness, learnability,
and other formal characteristics affecting how they can be used.
It is the mode he terms <em>symbolic</em>, which he holds responsible for the
unique properties of human languages.
This symbolic mode of communication in turn allows symbolic thought.</p>
<p>The symbolic mode is contrasted with two simpler modes,
<em>iconic</em> and <em>indexical</em>, on which it depends.
He then argues that human communication is the only animal communication
that uses all three modes.
These three modes are not meant to be
properties of signs themselves,
but rather modes of cognitive processing.
And argues that symbolic processing cannot occur
without being simultaneous iconic and indexical processing.</p>
<p>As these terms have all been used by other philosophers and linguists
in different ways, we must head off confusion.
The word 'symbol' is often used to refer to a mark,
such a character or other grapheme.
We will refer to that usage with <em>sign vehicle</em>.
Similarly, the word 'indexical' has a different meaning historically
in discussion of the semantic reference pertaining to
certain words including demonstratives.
Deacon's use of the term is related and so
does have implications for that type of reference,
which I will touch on only tangentially.</p>
<!-- Deacon's hierarchy is based largely on Peirce's distinctions. -->
<p>The simplest mode of reference in this model is <em>iconic</em>.
What is meant by iconic reference,
is the mere recognition that x is similar to y and thus invokes it.
As such, iconic reference is basic to any cognitive process;
it reflects the formation of a category.
This is basic because all learning
requires enough stimulus generalization to
respond the same way to different stimuli
based on their similarity.
But such generalization can also be used in iconic sign vehicles
that bring to mind a category and thus <em>represent</em> it.</p>
<p>Iconic reference is necessary as a first step of language processing
even in sign vehicles that can be processed further as indices or symbols.
For example, a written character must be
recognized as being an instance of its class before it can be interpreted.
Similarly, this is reflected in
the type-token distinction of words in corpus analysis,
where we refer to a type as the class of the word
as separate from each of its token instances.</p>
<!-- 02c054b4-3e86-11eb-8db2-d4619d1011e0 indexical -->
<p><em>Indexical</em> reference builds on iconic reference
by the addition of association.
To refer indexically requires that two categories
are already established via iconic reference.
The association of these categories allows one to index, or indicate the other.
Because these are established by co-occurrence,
there is potential for implication of causal relation.
Note also that indexical reference is transitive.
If smoke indicates fire and a smoke alarm indicates smoke,
then a smoke alarm indicates fire.</p>
<p>As with iconicity,
associations are also characteristic of all learning processes
and not unique to human communication.
They do not even require cognition.
Biochemical communication, for example in the human body,
is based on what are often termed <em>signals</em>,
because they indicate a physiological state.
For example, high levels of insulin
can indicate conditions favourable for growth,
so systems in the body respond to that signal
with growth promoting activity.</p>
<p>Indexicality is a critical stage in linguistic processing.
For example, the process of associating the word 'cup'
with things in the world that hold liquid for drinking
entails iconic relationships between instances of the word 'cup'
and iconic relationships between instances of drinking vessels
establishing both categories
before (or at the same time as) the association between them can be made.
Indexical reference is also ubiquitous in animal communication.
For example, vervet alarm calls differentiate predator types.
Likewise, in human to animal communication,
a dog can be taught associations between spoken words
and behaviours such as sitting or events such as feeding.</p>
<p>The mode of reference that sets human language apart is what Deacon terms symbolic.
Symbolic reference depends on a sign vehicle already having
been processed indexically.
It then entails further indexical reference among other symbols in a set.
What makes a word a symbol is not just that it indexically
points to a conceptually or physically present referent.
It must also refer to other words,
not only reflected in a thesaurus-like web of substitutability,
but in semantic ontologies and usage constraints
constituting grammar.
This aspect of symbolic reference is responsible for
its combinatorially expansive generative power.</p>
<p>However, this also poses a fundamental problem
in language learnability.
If learning to symbolically process a word requires learning
its relationship with every other word,
then the task quickly becomes intractable.
The puzzle of how children seemingly effortlessly learn language,
despite this "poverty of the stimulus"
is a long-standing question,
and is the motivation for cognitive hypotheses
of innateness, and even of the hard-coded grammar modules
proposed by Chomsky that lack only
a small set of parameters by which to fit the native language <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id4" id="id3">2</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id3">2</a></span></dt>
<dd>
<p>Chomsky, Noam. “Language and Problems of Knowledge.” Teorema: Revista Internacional de Filosofía 16, no. 2 (1997): 5–33.</p>
</dd>
</dl>
<p>In AI terms, Chomsky's view says that the language learning problem requires high bias
in the bias-variance tradeoff of learning models.
That is, most of the information is already in the model.
This would seem to be confirmed by the fact that
computational models that learn
co-occurrence relationships between contiguous vocabulary items on a large scale
are still very limited in ability to recognize or generate well formed language.
Not only do they fail to capture long distance relationships,
but there is never enough data to capture the behaviour of rare collocations,
let alone predict the behaviour of unseen ones.</p>
<p>While there is certainly evidence of bias in human brains
conferring ability to process language,
Deacon's view is that the machinery for learning these relationships
is not something added to the ability to process symbols,
but that is already present simply by having these three modes available,
and the ability to switch among them.
What is necessary to reduce the size of the language learning search space
is a way to constrain options.
Through a process of "desymbolization",
Deacon proposes that some words and contexts
call for only indexical reference to other words,
and knowing which mode of reference to use is part of what is learned.
So, for example, the word 'cup' can in principle occur in speech
with any other known word.
However the phrase 'a cup of ___' has a much smaller set of likely completions,
and 'not my cup of ___' even fewer.
This is because grammatical function words represent only indexically.
They point to specific relationships between symbols.
It does turn out that computational models that learn
implicit distribution patterns are much more powerful.</p>
<p>Once the responsibility for the complexity of human language
is seen as an inherent property of optional symbolic reference,
the answer to the question of how humans can acquire complex grammars
ceases to require either more intelligence than other creatures
or more cognitive infrastructure than what is necessary for symbolic reference itself.
And since symbolic reference is built hierarchically from simpler forms of reference
already present in other animal communication,
and even other important non-verbal human communication,
there need only be an enhanced disposition to refer in this mode.</p>
<p>Even the important property of recursion
follows emergently from symbolic reference itself,
because symbolic reference allows substitution across type levels.
For example, symbols can replace deictic indexicals,
such as 'that boy' being replaced with 'he',
or larger grammatical units such as entire arguments replaced with 'that',
or, more abstractly,
the implicit recursion of successively applying adjectives to noun phrases,
such as 'the little red hen'.</p>
<p>Iconic reference and indexical reference are constrained
by the necessities of similarity of form
and correlation in time or space, respectively.
That means they cannot be substituted except
when those similarities or correlations apply transitively.
This constraint is transcended in the symbolic mode.
We don't actually need to have seen two words
occur together to learn a symbolic relationship between them!
In fact, we learn strong associations between words that occur in alternation.
For example, we associate words such as 'coffee' and 'tea',
even if each tends to occur in exclusion of the other.
This implies both that symbolic properties such as recursion cannot be added
to a system without symbolic reference,
and that once symbolic reference is in place,
nothing more is required for properties such as recursion to be possible.</p>
<p>I hope through the following examples to further clarify
how this symbolic distinction operates.</p>
<!-- "has a grammar" means constraints on well formed combinations. -->
<!-- 98aeeb4e-3e4e-11eb-8db2-d4619d1011e0 not a simple mapping -->
<!-- 98aeeb4e-3e4e-11eb-8db2-d4619d1011e0 symbols and physical correspondence -->
<!-- 5a0c9e66-3e87-11eb-8db2-d4619d1011e0 type-token -->
<!-- b5ef23c8-3f10-11eb-8db2-d4619d1011e0 PoS -->
<!-- 13000828-400d-11eb-8db2-d4619d1011e0 recursion -->
<!-- a4491f74-40e2-11eb-8968-d4619d1011e0 analogy to math -->
<!-- c6bb6fa8-40e2-11eb-8968-d4619d1011e0 structure is not the constraint, but the product -->
<!-- Sapir Whorf -->
<!-- - - - - - - - - - - - -->
<section id="linguistic-relativism"><h2>Linguistic relativism</h2>
<p>Deacon reasons that since
the structural properties of human language
emerge from the symbolic mode of reference,
the habitual use of symbolic reference for communication
in turn affects the way we think,
making it different from other kinds of thought
based on other forms of reference.
Because this mode is almost entirely restricted to humans,
this could be viewed as a species version of strong linguistic relativism <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id6" id="id5">3</a>.</p>
<p>The relativistic idea that there is a relationship between
the particular language one speaks and the form of one's thoughts
is usually attributed to Sapir and Whorf.
It has been criticized as being either trivial in its weak form of mere influence,
or implausible in its strong form of limitation on what thoughts are possible.
It's not particularly contentious that, for example,
linguistic distinctions our language requires
can predispose us to make those distinctions
when thinking about objects, especially when we are preparing to talk about them,
but just because a certain meaning is more easily accessible in one language
than another, does not mean it cannot be arrived at in another.
However, if the comparison is among species rather than within,
the strong form becomes a more attractive hypothesis.
We know from the study of formal languages
that different generative rules in symbolic systems concretely affect
expressibility in mathematically provable ways.
Not having symbolic reference at all
seems to preclude many kinds of thought,
particularly thought involving modal and logical operators or other counterfactuals.</p>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id5">3</a></span></dt>
<dd>
<p>Deacon spends many pages describing a set of experiments in which
the researchers successfully (though with difficulty)
teach chimps to make a modest number of symbolic references.
This is important for two reasons: first it shows that
symbolic reference is a process, not an innate brain structure,
that you either have or you don't,
and second it shows that nonetheless it is much easier for humans
to make that particular leap, so there must be an innate <em>facility</em>.</p>
</dd>
</dl>
<!-- 3db9ece6-458f-11eb-9ff5-d4619d1011e0 examples of things animals can't think due to grammar --><p>If we think about animals in close human contact, for example dogs,
it's clear that we can teach some of them to "understand" words,
but this understanding appears to stay strictly within indexical interpretation.
A dog can learn to associate a word or phrase with a behaviour to perform,
or with an event to happen now, such as "Let's go for a walk" or "dinner time".
These are indexical understandings only,
because they associate a word category with
a conceptual category that is, crucially, coincident in time and place.
If the co-occurrence between the word and event ceased,
the association would eventually be extinguished, too.
But imagine trying to verbally present a dog with
an alternative between a walk and a meal,
or to tell him a story about yesterday's walk.
You cannot ask a dog whether he believes there is a squirrel outside.</p>
<!-- and probably most reliably when presented with
a particular pattern of intonation. -->
<p>Consider trying to replicate the "marshmallow test" of delayed gratification.
In the original Stanford experiment,
young children were given a marshmallow, and a choice.
If they did not eat the marshmallow when the staff left the room,
they would soon be given two marshmallows to eat.
The idea is that two marshmallows are better than one,
and that a child who has the ability to temporarily inhibit
the impulse to eat the one given knowledge of the contingent second,
will have better outcomes in life.</p>
<p>I submit that the corresponding test performed on dogs can only test obedience,
because the dog cannot be taught to understand the trade being offered,
even if they "know" the word for the treat in question.
We could train the dog not to eat a treat
because he knows he'll be rewarded.
We could even train him to reject a lesser treat, say, a strawberry,
in anticipation of a slice of beef.
But this would be a mere association of the strawberry with
the initiation of a performance: do not eat the strawberry and be rewarded with beef.
It would require training exactly because it could not be explained in words.
In other words, the dog can learn an association between behaviour and reward;
this is an indexical reference, a particular instance of
an "if x then y" relation.
But the dog can't seem to learn "if x then y" itself as a hypothetical structure
and then apply it to new referents.
If other animals had symbolic tools with which to organize perception,
we would expect to see expression of symbolic reference in their native communication,
or at least the ability to be taught to use it with humans.</p>
<!-- The interesting difference in the child and dog versions of the test
comes in the presumption that a choice can made.
In other words, if we presume that a dog likes strawberries but prefers beef,
how do we know that the dog, having eaten the strawberry or not,
knew the choice he was making?
I think at the very least we would require a kind of Turing Test,
in which the dog could -->
<p>Although much of the focus of the discourse on
linguistic relativism among human languages is lexical —
the canonical example being the existence of many words for snow in the Arctic —
Whorf's original descriptions focused on what he deemed grammatical differences.
That is, he noted that in order to communicate
we have to agree on a system of organizing our perceptions,
and asserts it is this organization which then shapes our thought <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id8" id="id7">4</a>.
Specifically, he wrote about classifications that would either be
explicitly marked grammatically, for example with grammatical morphemes,
or implicitly through distribution patterns.</p>
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id7">4</a></span></dt>
<dd>
<p>Scholz, Barbara C., Francis Jeffry Pelletier, and Geoffrey K. Pullum. “Philosophy of Linguistics.” In The Stanford Encyclopedia of Philosophy, edited by Edward N. Zalta, Summer 2020. Metaphysics Research Lab, Stanford University, 2020.</p>
</dd>
</dl>
<!-- a428029e-458d-11eb-9ff5-d4619d1011e0 experiences, categories don't require language --><p>Arguably, from a strictly lexical perspective,
we should expect other animals to be able to associate words with
particular sets of stimuli in ways that could
illustrate different ways of organizing the perceptual world.
We know that we can teach lab animals complex tasks that entail such distinctions.
Experiencing categories is not a linguistic act.
It requires only iconic reference and is not unique to humans.
Using a word to refer to a category is only indexical reference
and is also demonstrably teachable to some animals as in our dog example.</p>
<p>What is linguistic and symbolic is using categories to
constrain grammatical constructions.
For this purpose categories can be based on semantic properties grounded in experience
the way 'a cup of ___' imposes selectional restrictions <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id10" id="id9">5</a>,
but they can also be completely arbitrary such as grammatical gender.
Having the ability to organize categories around grammatical functions
is critical for reducing the search space of relations between words.
It's also essential for the recursive ability to
carry forward reference through a chain of substitution.</p>
<dl class="footnote brackets">
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id9">5</a></span></dt>
<dd>
<p>xxx selectional restrictions</p>
</dd>
</dl>
<!-- differentiating into language requires shaping into a form
choosing features required by it --><!-- Thinking symbolically is a result of internalizing symbolic communication,
therefore animals cannnot think symbolically at all. --><!-- Emoji example --><!-- Sense and reference --><!-- - - - - - - - - - - - - - - - - - - - --><!-- Frege: predication is applying sense to a reference --></section><section id="sense-and-reference"><h2>Sense and reference</h2>
<p>Deacon hypothesizes that the predicate-argument structure of linguistic communication
results from the dependence of symbolic reference on indexical reference <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id12" id="id11">6</a>.
The linguistic function of a predicate is to categorize its argument.
In this sense, the argument is what the discourse is "about",
and therefore its reference requires a kind of concreteness of instantiation,
or grounding to something "real",
while the predicate only refers to a symbolic category
that needn't itself be thus instantiated.
Thus the predicate derives grounding via its argument
and, according to Deacon, requires it to be meaningful.
Concreteness is a property of indexical reference,
because of its requirement for co-occurence or contiguity.
What an index refers to must be something present or proximate.
But because indexical reference has transitivity,
this proximity requirement for
words that refer indexically can be linked in a chain.
To see this, consider sentences (1) - (4).</p>
<dl class="footnote brackets">
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id11">6</a></span></dt>
<dd>
<p>Deacon, Terrence W. “Beyond the Symbolic Species.” In The Symbolic Species Evolved, edited by Theresa Schilhab, Frederik Stjernfelt, and Terrence Deacon, 6:9–38. Biosemiotics. Dordrecht: Springer Netherlands, 2012.</p>
</dd>
</dl>
<ol class="arabic simple">
<li><p>The girl sat in the chair.</p></li>
<li><p>She was too heavy.</p></li>
<li><p>It broke.</p></li>
<li><p>That's a shame.</p></li>
</ol>
<p>In Deacon's analysis, in (1) 'the' serves in both cases as a form of deixis
that grounds the sentence indexically to specific referents.
However, once they have been incorporated into the sentence,
they can be substituted symbolically in a way that carries the reference.
'She', 'it', and 'that' make use of grammatical category to transitively
maintain a chain of referential grounding.</p>
<p>There is a tradition in analytic philosophy
to seek a direct correspondence between language and metaphysical reality;
for words and expressions to "attach" via reference to things in the world.
In Wittgenstein's Tractatus, he lays out a kind of logico-linguistic atomism,
where every proposition can be analyzed down to "names":
elements that directly refer to objects in the world.</p>
<p>There have been many different
interpretations of what it means for an expression to refer to objects
and how that reference happens.
Gottlob Frege distinguished between sense and reference,
saying "We let a <em>sign</em> <em>express</em> its sense and <em>designate</em> its nominatum." <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id14" id="id13">7</a>.
In other words, in this view,
sense is a set of properties that an expression describes,
and that description, in addition to corresponding to the properties,
also refers to something specific by them,
insofar as it narrows down the potential referential candidates to
the single thing in the world that has those properties.
If something does exist in the world with the properties,
the expression also corresponds to a true proposition.
He also pointed out that an expression
can have a sense and yet not have a nominatum;
not refer to anything existing in the world,
if there is nothing having the properties described.</p>
<dl class="footnote brackets">
<dt class="label" id="id14"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id13">7</a></span></dt>
<dd>
<p>Frege, G.: 1892, ‘On Sense and Nominatum’, in Martinich, Aloysius, ed. The Philosophy of Language. New York, N.Y: Oxford University Press, 2010.</p>
</dd>
</dl>
<p>A distinction was subsequently proposed by Keith Donellan
about definite descriptions <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id16" id="id15">8</a>.
He suggested that when a definite description narrows a subject
to something specific that we don't know the referent for,
it merely attributes, but doesn't refer.
For example, his claim is that in a sentence such as
'The person who sat in my chair was too heavy.'
if we don't know who sat in the chair, then
the expression 'The person who sat in my chair' doesn't refer,
but merely attributes, having a meaning akin to
there exists a person x such that x sat in my chair.
Whereas if we do believe we know who sat in the chair,
then the expression refers to that person in a "rigid" way.
That is, in the attributive case,
any subsequent attribution is meant to apply to whoever sat in the chair,
whereas in the "referring" case,
subsequent attributions are meant to apply to the person we believed sat in the chair,
even if it turns out that they didn't sit in the chair after all,
or if there is contention over that point.</p>
<dl class="footnote brackets">
<dt class="label" id="id16"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id15">8</a></span></dt>
<dd>
<p>Donnellan, Keith S. “Reference and Definite Descriptions.” The Philosophical Review 75, no. 3 (July 1966): 281.</p>
</dd>
</dl>
<p>In both cases there is an act of predication,
so Deacon's hypothesis would require an indexical reference in the phrase either way.
However, I don't think his hypothesis requires that the chain of reference
terminate in a rigid reference or Wittgensteinian atom.
Rather, the chain of reference need only terminate in some
mutually agreed upon focus of attention.
And this focus could be entirely fictional, such as the Jabberwock,
or incompletely specified, so long as it is held constant across substitutions.</p>
<p>The requirement that every predicate be
a symbol grounded by its argument via indexical reference
and that a reference chain need trace back only to a mutual focus of attention,
may explain a further example in Donellan's argument.
Donellan pointed out that a definite description in a predicate
need neither refer nor attribute
(and thus carry the implication that there exists a referent).
His example contrasts the questions:</p>
<ol class="arabic simple" start="5">
<li><p>Is de Gaulle the King of France?</p></li>
<li><p>Is the King of France de Gaulle?</p></li>
</ol>
<p>Normally, we would not consider (5) to contain the presupposition
that there is a king of France, whereas we would in (6).
Deacon's hypothesis would explain this by noting that
the first predication requires an indexical grounding,
because it begins the communication.
Therefore it asserts its description as referring to something,
even if it is only the attributive sense of
asserting that the thing exists.
The second predication derives its indexical reference from the first,
so it need not itself be grounded.
In this way, (5) does not assert there is a king of France,
but only asks if the referent, de Gaulle, fits that symbolic
(and therefore hypothetical), category of being king of France.
In contrast, (6) first asserts the king of France has a referent before
asking if it can be merged with the category of being de Gaulle.</p>
<!-- This interpretation of sense and reference is thus called "descriptivism."

Because descriptions inherently contain sense,
they can solve problems where a sentence appears vacuous
from a referent only analysis.
For example a sentence of the form "x is y" would seem meaningless
if x and y have no meaning other than referring to something,
but if they carry sense,
then the expression serves to -->
<!-- identify
two referents, where it may not have been a priori deducible
that the two descriptions referred to the same thing. -->
<!-- be03ccc4-3e45-11eb-8db2-d4619d1011e0 Donellan causal chain -->
<!-- d4d7d8f2-40dc-11eb-8968-d4619d1011e0 predication and sense -->
<!-- The problem of easy knowledge and private language -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- 30162e7c-3f10-11eb-8db2-d4619d1011e0 overview -->
</section><section id="knowledge-of-language"><h2>Knowledge of language</h2>
<p>While the above discussion
suggests that expressions of language refer, at least transitively,
to objects in the world,
I have glossed over the difference between reference and meaning.
Potential differences are sometimes illustrated
by embedding propositions that look like they have the same meaning
from a reference point of view
into belief statements.
Hence the classic example from Frege of 'the morning star' and 'the evening star'
which both refer to Venus can be used to show the difference.</p>
<ol class="arabic simple" start="7">
<li><p>I believe that the morning star is the morning star.</p></li>
<li><p>I believe that the morning star is the evening star.</p></li>
</ol>
<p>If meaning were merely reference, (7) and (8) would have the same meaning.
Meaning appears to have more to do with ideas in the mind
than objects in the world.
Given that only the individual has access to his own ideas,
this led Locke to somewhat absurdly conclude that language must be private —
absurd because the putative function of language is to communicate,
and if meaning is necessarily private then nothing can be communicated <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id18" id="id17">9</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id18"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id17">9</a></span></dt>
<dd>
<p>Locke, John, and Frederick Ryland. Locke on Words: An Essay Concerning Human Understanding. W.S. Sonnenschein &amp; Company, 1882.</p>
</dd>
</dl>
<p>If what words or expressions refer to are ideas,
then we may be able to make a helpful analogy
between mental representations and indexical reference.
One theory of associative memory is that the hippocampus
organizes it by index.
For example, the word 'cup' can be an index into associative memory
which ties together perceptual fragments of actual experience
(though they may be merged or idealized over time).
In this way, the associations with the word 'cup' for an individual
are indeed private.
However, because 'cup' can also be processed symbolically,
that means there are associations with other symbols
and how those symbols interact via grammar.
Grammar, unlike associative memory, is procedural
and therefore processed in part in the cerebellum <a class="footnote-reference brackets" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id20" id="id19">10</a>.
Because the <em>word</em> 'cup' and its grammatical occurrences
are exactly what is shared when people use language to communicate,
this symbol-to-symbol structure is negotiated in public,
regardless of the idiosyncratic associative contents of its indexical grounding.
In other words,
perhaps what is private is not language, the symbolic system,
but merely associations in the pre-verbal processing of meanings.</p>
<dl class="footnote brackets">
<dt class="label" id="id20"><span class="brackets"><a class="fn-backref" href="../posts/2022/08/28/some-philosophical-implications-of-deacons-model-of-symbolic-reference.html#id19">10</a></span></dt>
<dd>
<p>See e.g. Adamaszek, Michael, and Kenneth C. Kirkby. “Cerebellum and Grammar Processing.” In The Linguistic Cerebellum, 81–105. Elsevier, 2016.</p>
</dd>
</dl>
<p>Debate about whether language can be private
does sometimes center on discussion of grammatical rules.
For example, Saul Kripke and others point out
that there can be many, perhaps even infinitely many rules that a given
data set of usage seen at a given point in time is obeying,
and therefore there is no way to distinguish
whether you and I are following the same rules
or whether our rules merely agree thus far,
but are each, essentially, private and different.
To be sure even within what is considered correct usage,
there are idiosyncracies in production
such that linguistic forensics can sometimes determine authorship
just by statistical analysis.</p>
<p>In analogy to formal languages, many have sought
to characterize human languages as infinite sets
of utterances that would qualify as grammatically correct English.
This analogy leads naturally to treating the problem
as an inference puzzle to find the formal language
that would generate the appropriate grammar.
In contrast, Deacon's view is that language in the wild
is not so much deemed correct or incorrect,
but understandable or not,
and that this depends exactly on whether the indexical references can be
derived from immediate sources of joint attention, linguistic or non-linguistic.
This would explain tolerance of "broken" English
by foreigners and children, or the fragments characteristic of dialogue.
Interestingly, this does seem to imply that language
requires outside verification to judge,
denying the ability of language to be private.</p>
<p>A related problem in language knowledge
that Deacon specifically aimed to address
was the Chomskian idea that the complexity of grammar
is so high that humans must have innate grammatical structures
that need only be parameterized to function.
They seem to agree that the induction of a rule set
is implausible,
but Deacon's solution is to consider the complexity inherent in the
symbolic mode of reference,
and the constraints to be exactly what is imposed
by generic learning constraints in the human brain.
Thus, we incorporate desymbolization exactly to the degree needed
to cope with our cognitive limitations,
such as short term memory capacity.
In other words, the forms of grammatical constraints human languages have
are a direct result of our limited cognitive ability to deal with symbolic reference,
and this is the source of apparent universality.
The structure is the product of the process,
not the constraint that has to be learned.</p>
<p>In "Language and Problems of Knowledge",
Chomsky goes so far as to say that we must have innate concepts
that need only be given labels [1].
Otherwise, he says, we could not explain that children at
their peak of language acquisition learn
many words a day, sometimes after a single occurrence.
But this is not so remarkable when we remember that concepts are not symbolic,
they are merely indexical, and therefore do not require language.
It's possible that when children are in the phase of
acquiring lexical items at this rate,
they have a backlog of concepts waiting for labels,
not because those concepts were innate,
but because they were acquired non-verbally before the rest of their language ability
was ready to label them,
and the phase corresponds to a sudden readiness to acquire words symbolically,
because they have figured out how to do this mode of reference.</p>
</section><section id="summary"><h2>Summary</h2>
<p>Deacon's model of symbolic reference
distinguishes a hierarchy of modes of reference,
such that the first two are ubiquitous in learning and communication
in all living systems,
whereas the symbolic mode, building on the others, is unique to human language.
These distinctions cast new light on some old problems.
While they do not directly bear on differences between human languages,
they clarify how certain word-like communications in other animals
differ from full-fledged symbolic words, while retaining indexical properties,
and how this limitation to their use in communication,
likely imposes limitations in thought.</p>
<p>Conceiving of reference as a mode of processing
rather than something inherent in sign vehicles themselves
allows a shift in the objective of linguistic analyses
from finding assertions about things in the world
to maintaining shared focus on a small, but growing set of ideas
as they are transformed and created through predications.
This ability to focus on ideas via symbolic reference
allows a kind of cognition that is not dependent on
the proximity or reality of any object,
and yet is always linked to a shared context.</p>
<p>The general constraints of memory are sufficient to
require limitations on symbol-to-symbol relations
that would be reflected as a kind of universal
in any language.
Therefore, according to Deacon,
We need no special innate representation of grammar,
but only a capacity to optionally use symbolic reference,
in order to end up with language structures sharing basic properties.
Non-human animal communication is not simplified symbolic language,
but rather non-symbolic.</p>
<!-- Grammar syntactic-semantic -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- Error correction -->
<!-- - - - - - - - - - - - - - - - - -->
<!-- 33854d56-3f0e-11eb-8db2-d4619d1011e0 overview -->
<!-- 7d350224-3f0f-11eb-8db2-d4619d1011e0 symbolic level -->
<!-- 19ac3fd6-40e7-11eb-8968-d4619d1011e0
A broken category that is not a error, is a metaphor. -->
<!-- Metaphor -->
<!-- - - - - - - - - -->
<!-- Computational Cognitive Science -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- 7fc79df2-40e1-11eb-8968-d4619d1011e0 neural nets -->
<!-- bce30aec-40e5-11eb-8968-d4619d1011e0 Search space reduction -->
</section>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/i-did-it.html" class="u-url">I did it!</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/i-did-it.html" rel="bookmark">
            <time class="published dt-published" datetime="2021-04-14T21:45:35Z" itemprop="datePublished" title="2021-04-14 21:45">2021-04-14 21:45</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/i-did-it.html#disqus_thread" data-disqus-identifier="cache/posts/i-did-it.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <section id="i-did-it"><h2>I did it!</h2>
<p>It's been a long time since I wrote anything here;
everything I've written has been over at
<a class="reference external" href="https://mostly-fat.com">Mostly Fat</a> or the companion book site,
being health or nutrition related in nature.</p>
<p>I've had some subsymbol themed ideas to write, but after six years I was afraid I might forget how to use Nikola,
or that the code would have changed so dramatically that I wouldn't be able to get my site to build at all.
So I had been putting it off.</p>
<p>But I finally tried it today, and it worked!</p>
<p>I did run into a snag with the old posts written in html.
It seems that where Nikola used to read "meta" files for certain information,
it now expects to read that information out of the html head.
That was easy enough to fix once I figured out the issue.</p>
<p>There are still some warnings and formatting changes that I need to clean up,
but this seems good enough to at least try deploying!
I'm eager to start writing here again.</p>
</section>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/notes-on-fragment-grammars.html" class="u-url">Notes on Fragment Grammars</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/notes-on-fragment-grammars.html" rel="bookmark">
            <time class="published dt-published" datetime="2015-03-02T22:00:26Z" itemprop="datePublished" title="2015-03-02 22:00">2015-03-02 22:00</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/notes-on-fragment-grammars.html#disqus_thread" data-disqus-identifier="cache/posts/notes-on-fragment-grammars.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p>Last week I read
<a class="reference external" href="http://dspace.mit.edu/handle/1721.1/44963">Fragment Grammars: Exploring Computation and Reuse in Language</a>
by Timothy J. O'Donnell, Joshua B. Tenenbaum, and Noah D. Goodman.</p>
<p>As I mentioned in <a class="reference external" href="http://subsymbol.org/journal/wednesday-february-25th-2015.html">my journal</a>,
the authors of this tech report promise to generalise <a class="reference external" href="http://papers.nips.cc/paper/3101-adaptor-grammars-a-framework-for-specifying-compositional-nonparametric-bayesian-models.pdf">adaptor grammars</a> (a variety of <a class="reference external" href="http://en.wikipedia.org/wiki/Stochastic_context-free_grammar">PCFG</a> that uses a <a class="reference external" href="http://en.wikipedia.org/wiki/Pitman%E2%80%93Yor_process">Pitman-Yor process</a> to adapt its probabilities based on context) by using a <em>heterogenous</em> lexicon (one that is not married to some prescriptivist notion of linguistic category such as word or morpheme, and thus can include items smaller or larger than words).
The "lexicon" is chosen to optimise between storing a relatively small number of tiny units which require a lot of computation to structure together vs. storing a large number of long strings which cover large stretches of text, but aren't very flexible or general.
In other words, it's a tradeoff in compression vs. computation.</p>
<p>Here are my impressions on first reading.</p>
<p><strong>What I really love about this tech report is that it unpacks a lot of typically presumed knowledge right inside it.</strong></p>
<p>So if you didn't know about PCFGs or memoization, or Chinese restaurant processes, or non-parametric Bayesian methods before, you can get a lot of what you need to know right there.
Of course, The reason a typical conference or journal paper doesn't include such thorough background, is simply that there isn't the space for it.
Moreover, one can usually assume that the audience has the appropriate background, or knows how to acquire it.
Nonetheless, I find it a great pleasure to read something that assumes an educated audience that isn't intimidated by statistical models or equations, but might not know every niche term involved in such a specialised task.</p>
<p><strong>Here are some ways in which reading this paper helped me to grok non-parametric Bayesian techniques.</strong></p>
<p>I had never thought of LDA and related algorithms as <em>stochastic memoisation</em>, which is how they are described here.</p>
<!--  -->
<blockquote>
<p>"A stochastic memoizer wraps a stochastic procedure [i.e a sampler]
in another distribution, called the memoization distribution, which
tells us when to reuse one of the previously computed values, and
when to compute a fresh value from the underlying procedure. To
accomplish this, we generalize the notion of a memotable so that it
stores a distribution for each procedure–plus–arguments
combination."</p>
</blockquote>
<p>I like this description because it is immediately understandable to someone who has used dynamic programming.
We know the value of limiting recomputation (and, again, if you don't, the classic Fibonacci example is right in the paper!),
and now we see this generalised to probabilistically either using the cached value or resampling.
As the authors explain:</p>
<!--  -->
<blockquote>
<p>"If we wrap such a random procedure in a deterministic memoizer, then
it will sample a value the first time it is applied to some arguments,
but forever after, it will return the same value by virtue of
memoization. It is natural to consider making the notion of
memoization itself stochastic, so that sometimes the memoizer returns
a value computed earlier, and sometimes it computes a fresh value."</p>
</blockquote>
<p>I have seen several different presentations of LDA, and not once was it described in this intuitive way.</p>
<p>Further, we can see how using the Chinese Restaurant Process, which is biased to sample what has been sampled before as a "simplicity bias":</p>
<!--  -->
<blockquote>
<p>"all else being equal, when we use the CRP as a stochastic memoizer
we favor reuse of previously computed values."</p>
</blockquote>
<p>An assumption that Gibbs sampling relies on was made clear to me in the explanation of <em>exchangeability</em>.</p>
<!--  -->
<blockquote>
<p>"Intuitively, exchangeability says that the order in which we observed
some data will not make a difference to our inferences about
it. Exchangeability is an important property in Bayesian statistics,
and our inference algorithms below will rely on it crucially. It is
also a desirable property in cognitive models."</p>
<p>"Pitman-Yor processes, multinomial-Dirichlet distributions, and
beta-Binomial distributions are all exchangeable, which means that
we are free to treat any expression e(i) ∈ E as if it were the last
expression sampled during the creation of E.  Our sampling
algorithm leverages this fact by (re-)sampling each p(i) ∈ P
for each expression in turn."</p>
</blockquote>
<p>Even though I knew that the exchangeability was necessary for taking products,
that is, that permutations don't effect the joint distributions,
I hadn't thought about the way this frees us in our sampling order.
If we wanted to add some kind of recency effects to our models, order would, of course, become important.</p>
<p><strong>The real meat of the paper, though, is in describing</strong> <em>Fragment Grammars</em> <strong>as contrasted with</strong> <em>Adaptor Grammars</em>.</p>
<p>This will likely be the topic of the next post.</p>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/two-inotify-pitfalls.html" class="u-url">Two inotify Pitfalls</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/two-inotify-pitfalls.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-31T19:35:05Z" itemprop="datePublished" title="2014-07-31 19:35">2014-07-31 19:35</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/two-inotify-pitfalls.html#disqus_thread" data-disqus-identifier="cache/posts/two-inotify-pitfalls.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p>All I wanted was to track some files.</p>
<p>I have a set of directories populated with files that are hardlinked from other places.
This serves as a kind of database for associating tags to files.
I wanted to write a daemon that notifies changes to the files that might affect the consistency of the database.
For example, if the file is removed, I want my database to let go of its reference.</p>
<p>The linux kernel has a set of system calls for this called <a class="reference external" href="http://en.wikipedia.org/wiki/Inotify">inotify</a>, and <a class="reference external" href="http://twistedmatrix.com/documents/current/api/twisted.internet.inotify.html">Twisted has a module to support that API</a>.
Not only that, but the module documentation has everything you need.</p>
<hr class="docutils">
<pre class="code python"><a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-1"></a><span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">inotify</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-2"></a><span class="kn">from</span> <span class="nn">twisted.python</span> <span class="kn">import</span> <span class="n">filepath</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-3"></a>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-4"></a><span class="k">def</span> <span class="nf">notify</span><span class="p">(</span><span class="n">ignored</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">mask</span><span class="p">):</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-5"></a>    <span class="sd">"""</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-6"></a><span class="sd">    For historical reasons, an opaque handle is passed as first</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-7"></a><span class="sd">    parameter. This object should never be used.</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-8"></a>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-9"></a><span class="sd">    @param filepath: FilePath on which the event happened.</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-10"></a><span class="sd">    @param mask: inotify event as hexadecimal masks</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-11"></a><span class="sd">    """</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-12"></a>    <span class="nb">print</span> <span class="s2">"event </span><span class="si">%s</span><span class="s2"> on </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-13"></a>        <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">inotify</span><span class="o">.</span><span class="n">humanReadableMask</span><span class="p">(</span><span class="n">mask</span><span class="p">)),</span> <span class="n">filepath</span><span class="p">)</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-14"></a>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-15"></a><span class="n">notifier</span> <span class="o">=</span> <span class="n">inotify</span><span class="o">.</span><span class="n">INotify</span><span class="p">()</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-16"></a><span class="n">notifier</span><span class="o">.</span><span class="n">startReading</span><span class="p">()</span>
<a name="rest_code_082ecdcd941b4ba58ccacb9eb78399cc-17"></a><span class="n">notifier</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">filepath</span><span class="o">.</span><span class="n">FilePath</span><span class="p">(</span><span class="s2">"/some/directory"</span><span class="p">),</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">notify</span><span class="p">])</span>
</pre>
<hr class="docutils">
<section id="pitfall-1"><h2>Pitfall #1</h2>
<p>Great!  I copy the code, change the path from "/some/directory" to "/home/amber/somedir", and start it up.</p>
<ul class="simple">
<li><p>I make a file, "f", and am notified of its creation, and some attribute change.</p></li>
</ul>
<pre class="code bash"><a name="rest_code_d261a2e45d1349f5b940c311813d6adb-1"></a>$ touch f
</pre>
<pre class="code bash"><a name="rest_code_4e55545098334735b6916dd3ae10767e-1"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/somedir/f'</span><span class="o">)</span>
<a name="rest_code_4e55545098334735b6916dd3ae10767e-2"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/somedir/f'</span><span class="o">)</span>
</pre>
<ul class="simple">
<li><p>I hard link it with another name</p></li>
</ul>
<pre class="code bash"><a name="rest_code_0b511966d523407bae39f24263556f00-1"></a>$ ln f h
</pre>
<pre class="code bash"><a name="rest_code_db8d9fa463c946d787ffd8d4b09ec42e-1"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/h'</span><span class="o">)</span>
</pre>
<p>Ok.  It logged the creation of h for me, but hasn't this changed the links attribute of f?
Why wasn't I notified of that?</p>
<ul class="simple">
<li><p>I try modifying it.</p></li>
</ul>
<pre class="code bash"><a name="rest_code_b646cb1af81042d69e68006ea267b256-1"></a>$ <span class="nb">echo</span> hello &gt;&gt; h
</pre>
<pre class="code bash"><a name="rest_code_759995010c31429a8023554113f21347-1"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/h'</span><span class="o">)</span>
</pre>
<p>I'm further non-plussed.
This event should have modified both f and h, but I was only notified of the one used in the command.</p>
<p>Finally I try what I really want.
* I make a hard link to f from outside of "somedir/", and modify it through there.</p>
<pre class="code bash"><a name="rest_code_d06909d031b34240b5b045e7ef5322f8-1"></a>$ ln f ../h
<a name="rest_code_d06909d031b34240b5b045e7ef5322f8-2"></a>$ <span class="nb">echo</span> hello &gt;&gt; ../h
</pre>
<pre class="code bash"><a name="rest_code_7c027f1ad68840358f098292625a600e-1"></a><span class="o">(</span>no response<span class="o">)</span>
</pre>
<section id="what-s-going-on"><h3>What's going on?</h3>
<p>Inotify takes a pathname.
If the pathname is a directory, then it watches the directory, but this is not the same as watching each file in the directory.</p>
</section></section><section id="pitfall-2"><h2>Pitfall #2</h2>
<p>Glad to have figured out my error, I try again, modifying the pathname argument in the daemon to "somedir/f".
I remove all those files, touch f, and start the daemon again.
This time it does what I want.</p>
<pre class="code bash"><a name="rest_code_fed253cb37d447fcb810498dcd89d7ca-1"></a>$ ln f h
</pre>
<pre class="code bash"><a name="rest_code_3bb32fd9f0b24982809c346c9b35c2de-1"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
</pre>
<pre class="code bash"><a name="rest_code_c11afccf899f4e6a9404141391d38ef6-1"></a>$ ln f h
<a name="rest_code_c11afccf899f4e6a9404141391d38ef6-2"></a>$ <span class="nb">echo</span> hello &gt;&gt; h
</pre>
<pre class="code bash"><a name="rest_code_5bc2ffe2a26b49c99b9d98288e81defc-1"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_5bc2ffe2a26b49c99b9d98288e81defc-2"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
</pre>
<pre class="code bash"><a name="rest_code_a3487e144f084e8490a4427c7fadea66-1"></a>$ ln f ../h
<a name="rest_code_a3487e144f084e8490a4427c7fadea66-2"></a>$ <span class="nb">echo</span> hello &gt;&gt; ../h
</pre>
<pre class="code bash"><a name="rest_code_f6f5c0681d4a456abdae7106fb53b8b5-1"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_f6f5c0681d4a456abdae7106fb53b8b5-2"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
</pre>
<section id="but-wait"><h3>But wait!</h3>
<p>I was about to call it good, when I decided to try modifying the file with vim or emacs.
I deleted all those files again, touched f, and this time modified it with vim.
On saving the file, I get this:</p>
<pre class="code bash"><a name="rest_code_662be57ba5df4179976ec39908a18c56-1"></a>event move_self on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_662be57ba5df4179976ec39908a18c56-2"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_662be57ba5df4179976ec39908a18c56-3"></a>event delete_self on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
</pre></section><section id="id1"><h3>What's going on?</h3>
<p>It turns out that vim and emacs, and who knows what else, have a trick to save backups while in use.</p>
<p>To see what happens, I edited the daemon to watch the directory again, and also to print some stats about the files:</p>
<pre class="code python"><a name="rest_code_d7592081a04d4217b630cf44913a2361-1"></a><span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">inotify</span><span class="p">,</span> <span class="n">reactor</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-2"></a><span class="kn">from</span> <span class="nn">twisted.python</span> <span class="kn">import</span> <span class="n">filepath</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-3"></a><span class="kn">import</span> <span class="nn">os</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-4"></a>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-5"></a>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-6"></a><span class="k">def</span> <span class="nf">notify</span><span class="p">(</span><span class="n">ignored</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">mask</span><span class="p">):</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-7"></a>    <span class="sd">"""</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-8"></a><span class="sd">    For historical reasons, an opaque handle is passed as first</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-9"></a><span class="sd">    parameter. This object should never be used.</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-10"></a>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-11"></a><span class="sd">    @param filepath: FilePath on which the event happened.</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-12"></a><span class="sd">    @param mask: inotify event as hexadecimal masks</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-13"></a><span class="sd">    """</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-14"></a>    <span class="nb">print</span> <span class="s2">"event </span><span class="si">%s</span><span class="s2"> on </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">inotify</span><span class="o">.</span><span class="n">humanReadableMask</span><span class="p">(</span><span class="n">mask</span><span class="p">)),</span> <span class="n">filepath</span><span class="p">)</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-15"></a>    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">fp</span><span class="p">):</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-16"></a>        <span class="n">stat</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-17"></a>        <span class="nb">print</span> <span class="n">f</span><span class="p">,</span> <span class="s2">"mode:"</span><span class="p">,</span> <span class="n">stat</span><span class="o">.</span><span class="n">st_mode</span><span class="p">,</span> <span class="s2">"inode:"</span><span class="p">,</span> <span class="n">stat</span><span class="o">.</span><span class="n">st_ino</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-18"></a>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-19"></a><span class="n">fp</span> <span class="o">=</span> <span class="s2">"/home/amber/subdir"</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-20"></a><span class="n">notifier</span> <span class="o">=</span> <span class="n">inotify</span><span class="o">.</span><span class="n">INotify</span><span class="p">()</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-21"></a><span class="n">notifier</span><span class="o">.</span><span class="n">startReading</span><span class="p">()</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-22"></a><span class="n">notifier</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">filepath</span><span class="o">.</span><span class="n">FilePath</span><span class="p">(</span><span class="n">fp</span><span class="p">),</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[</span><span class="n">notify</span><span class="p">])</span>
<a name="rest_code_d7592081a04d4217b630cf44913a2361-23"></a><span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre>
<p>Now I run it and open f with vi.</p>
<pre class="code bash"><a name="rest_code_6db96f332d2348e1b137102b784dd23b-1"></a>$ vi f
</pre>
<pre class="code bash"><a name="rest_code_061d3a4b137148358617bc4fe32147af-1"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-2"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-3"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-4"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swpx'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-5"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-6"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-7"></a>event delete on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swpx'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-8"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-9"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-10"></a>event delete on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-11"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-12"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-13"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-14"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-15"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-16"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-17"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-18"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-19"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-20"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_061d3a4b137148358617bc4fe32147af-21"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
</pre>
<p>(pause)</p>
<pre class="code bash"><a name="rest_code_1b162e5f67c14723ade1337a16d70815-1"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_1b162e5f67c14723ade1337a16d70815-2"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_1b162e5f67c14723ade1337a16d70815-3"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
</pre>
<p>(modify manually)</p>
<pre class="code bash"><a name="rest_code_64137bd4464b406a9d09c06d52776cc1-1"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_64137bd4464b406a9d09c06d52776cc1-2"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_64137bd4464b406a9d09c06d52776cc1-3"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_64137bd4464b406a9d09c06d52776cc1-4"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_64137bd4464b406a9d09c06d52776cc1-5"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_64137bd4464b406a9d09c06d52776cc1-6"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
</pre>
<p>(save manually)</p>
<pre class="code bash"><a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-1"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/4913'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-2"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-3"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-4"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/4913'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-5"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-6"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-7"></a>event delete on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/4913'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-8"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-9"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-10"></a>event moved_from on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-11"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-12"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-13"></a>event moved_to on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f~'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-14"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-15"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-16"></a>event create on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-17"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-18"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-19"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-20"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-21"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-22"></a>f~ mode: <span class="m">33204</span> inode: <span class="m">2307370</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-23"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-24"></a>event attrib on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-25"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-26"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-27"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-28"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-29"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-30"></a>event delete on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/f~'</span><span class="o">)</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-31"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
<a name="rest_code_82b9cfe9cb8943a9aa5a28bff7f00643-32"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
</pre>
<p>(exit)</p>
<pre class="code bash"><a name="rest_code_1a18f29f92c84fcb8b7c818fa12f9ff3-1"></a>event modify on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_1a18f29f92c84fcb8b7c818fa12f9ff3-2"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
<a name="rest_code_1a18f29f92c84fcb8b7c818fa12f9ff3-3"></a>.f.swp mode: <span class="m">33188</span> inode: <span class="m">2307363</span>
<a name="rest_code_1a18f29f92c84fcb8b7c818fa12f9ff3-4"></a>event delete on FilePath<span class="o">(</span><span class="s1">'/home/amber/subdir/.f.swp'</span><span class="o">)</span>
<a name="rest_code_1a18f29f92c84fcb8b7c818fa12f9ff3-5"></a>f mode: <span class="m">33204</span> inode: <span class="m">2307371</span>
</pre>
<p>As far as I can tell, the result is as if they have renamed f to something else like f~, copied the contents of f~ to a new file named f, modified f, and finally deleted f~.
This is essentially <a class="reference external" href="http://en.wikipedia.org/wiki/Copy-on-write">copy-on write</a>.</p>
<p>But inotify, while taking pathnames as arguments and returning pathnames, actually tracks inodes.
So simply using an editor has the effect of moving the file to a different inode and thereby breaks inotify!</p>
<p>This is ultimately a consequence of using aliases to files (pathnames) as if they were canonical references to files (inodes).</p>
<!-- **It is a property of mutable objects that -->
</section><section id="post-script-lucky-break"><h3>Post Script: Lucky break?</h3>
<p>As it happens, the behaviour of vim and emacs is different when the inode holding the file has more than one reference.
I can prevent the inode from disappearing by making a hardlink to the file before opening it with an editor.
The editor must have recognised that it can't move inodes willy-nilly when other pathnames depend on it.
This maps exactly to my original scenario, and therefore might make it safe for me to use.
On the other hand, my whole confidence in the bahaviour is undermined, and I am reluctant to rely on it.</p>
</section></section>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/polyas-urn.html" class="u-url">Pólya's Urn</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/polyas-urn.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-25T17:24:37Z" itemprop="datePublished" title="2014-07-25 17:24">2014-07-25 17:24</time></a>
            </p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>Skip to interactive demo: <a class="reference internal" href="../posts/polyas-urn.html#try-it">Try it!</a></p>
<section id="balls-in-urns"><h2>Balls in Urns</h2>
<p>If you have studied probability, you are probably familiar with the canonical balls-in-an-urn allegory for understanding discrete probability distributions.
For example, you could imagine an urn containing 1 red ball and 3 green balls.
Drawing a ball from the urn at random represents sampling from a probability distribution where the probability of one outcome is <span class="math">\(25\%\)</span> and the probability of the other outcome is <span class="math">\(75\%\)</span>
We can extend this idea in a variety of ways.</p>
</section><section id="polya-s-urn"><h2>Pólya's Urn</h2>
<p>In <em>Pólya's Urn</em>, the extension is that whenever you draw a ball from the urn, you not only replace it, but you add an extra ball of the same colour.
So if you happened to draw a green ball in the example above, then the ratio would change from <span class="math">\(1:3\)</span> to <span class="math">\(1:4\)</span>.
That means on the next draw, you would now have only a <span class="math">\(20\%\)</span> chance of drawing red.
On the other hand, if you happened to have drawn red, then the ratio would change to <span class="math">\(2:3\)</span>, giving red a probability of <span class="math">\(40\%\)</span></p>
<p>This process is interesting, because it has the property that the more often you observe something, the more likely you are to observe it again.</p>
</section><section id="different-starting-conditions"><h2>Different starting conditions</h2>
<p>The way the distribution changes over time depends on the starting conditions.</p>
<section id="one-of-each"><h3>One of each</h3>
<p>Let's imagine the simplest case, in which we start with one each of two colours, red and green.
The following table shows the probabilities of getting red on the first three draws, and how each draw changes the probability of the next by changing the proportion of colours in the urn.</p>
<table class="colwidths-given">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead><tr>
<th class="head"></th>
<th class="head"><p>RRR</p></th>
<th class="head"></th>
</tr></thead>
<tbody>
<tr>
<td><p><strong>Draw</strong></p></td>
<td><p><strong>p(Draw)</strong></p></td>
<td><p><strong>new R:G</strong></p></td>
</tr>
<tr>
<td><p>R</p></td>
<td><p><span class="math">\(1/2\)</span></p></td>
<td><p>2:1</p></td>
</tr>
<tr>
<td><p>R</p></td>
<td><p><span class="math">\(2/3\)</span></p></td>
<td><p>3:1</p></td>
</tr>
<tr>
<td><p>R</p></td>
<td><p><span class="math">\(3/4\)</span></p></td>
<td><p>4:1</p></td>
</tr>
</tbody>
</table>
<hr class="docutils">
<p>There are more ways to have drawn two of one colour, and one of the other, than 3 of one colour.
However, because of the way drawing a particular colour reinforces itself,
there is a <span class="math">\(50\%\)</span> chance of drawing the same colour every time over the first three draws.</p>
<table class="colwidths-given">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead><tr>
<th class="head"><p>First three draws</p></th>
<th class="head"><p>probability</p></th>
</tr></thead>
<tbody>
<tr>
<td><p>RRR</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 3/4 = 1/4\)</span></p></td>
</tr>
<tr>
<td><p>RRG</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 1/4 = 1/12\)</span></p></td>
</tr>
<tr>
<td><p>RGR</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 1/2 = 1/6\)</span></p></td>
</tr>
<tr>
<td><p>RGG</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 1/2 = 1/6\)</span></p></td>
</tr>
<tr>
<td><p>GRR</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 1/2 = 1/6\)</span></p></td>
</tr>
<tr>
<td><p>GRG</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 1/2 = 1/6\)</span></p></td>
</tr>
<tr>
<td><p>GGR</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 1/4 = 1/12\)</span></p></td>
</tr>
<tr>
<td><p>GGG</p></td>
<td><p><span class="math">\(1/2 \times 2/3 \times 3/4 = 1/4\)</span></p></td>
</tr>
</tbody>
</table></section><section id="ten-of-each"><h3>Ten of each</h3>
<p>Now suppose that we start with 10 each of red and green balls.
In this case, simply drawing a red ball the first time does not change the probability that it will be drawn again nearly as significantly as with the <span class="math">\(1:1\)</span> starting conditions.
The probability of drawing 3 of the same colour in a row falls to <span class="math">\(2 \times 10/20 \times 11/21 \times 12/22 = 2/7 \cong  29\%\)</span></p>
<p>We can view the starting conditions as a list of numbers, one for each starting colour, and call it <em>alpha</em> (<span class="math">\(\alpha\)</span>).
So our first example had <span class="math">\(\alpha = [1, 3]\)</span>,
our second example had <span class="math">\(\alpha = [1, 1]\)</span>,
and our third example had <span class="math">\(\alpha = [10, 10]\)</span>,</p>
</section><section id="higher-returns"><h3>Higher returns</h3>
<p>On the other hand, imagine if we started with 1 each of red and green, but instead of increasing the number of balls by 1 when we draw a colour, we increased it by 10.
Now every draw has a much stronger effect.
The probability of drawing the same colour 3 times in a row would now be <span class="math">\(2 \times 1/2 \times 11/12 \times 21/22 = 7/8 \cong 88\%\)</span></p>
<p>We could even have a particular increase number for each colour, and have another list, called <em>beta</em> (<span class="math">\(\beta\)</span>).</p>
</section><section id="more-colours"><h3>More colours</h3>
<p>Another way to change the starting conditions is to increase the number of colours.
If our starting urn had one each of 10 different colours, then, again, when we draw the first ball, it has much less of an effect on the chance of drawing it again.
We can call the number of colours <span class="math">\(n\)</span>.</p>
</section></section><section id="try-it"><h2>Try it!</h2>
<p>Use the sliders to choose <span class="math">\(n\)</span> colours, and a single <span class="math">\(\alpha\)</span> and <span class="math">\(\beta\)</span> for all colours. Try drawing balls from the urn, and see how the urn changes.  At any time you can display the urn in rank order or reset to the current slider position.</p>
n: <b id="n-output"></b>
<input class="n-slider" type="range" min="1" max="8">
α: <b id="alpha-output"></b>
<input class="alpha-slider" type="range" min="1" max="8">
β: <b id="beta-output"></b>
<input class="beta-slider" type="range" min="1" max="8"><br><p id="urn">Urn</p>
<br><button id="draw">Draw!</button>
<button id="reset">Reset.</button>
<button id="rank">Order by rank.</button>

<script src="../scripts/polya.js">
</script></section>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/the-grammaticality-continuum.html" class="u-url">The Grammaticality Continuum</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/the-grammaticality-continuum.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-25T15:20:07Z" itemprop="datePublished" title="2014-07-25 15:20">2014-07-25 15:20</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/the-grammaticality-continuum.html#disqus_thread" data-disqus-identifier="cache/posts/the-grammaticality-continuum.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p>Yesterday I was thinking about implementing <em>Latent Dirichlet Allocation</em> (LDA).
LDA is used for <em>topic modelling</em> — inducing a set of topics, such that a set of natural language documents can be represented by a mixture of those topics.
This is then used to estimate document similarity, and related information retrieval tasks.</p>
<p>The first step in such a project is to <em>tokenise</em> — to break up the text into words, removing attached punctuation, and regularising things like capitalisation.
When looking at the words in a document for the purposes of topic modelling,
it seems appropriate to merge word forms with the same root, or stem, instead of having each form of the "same" word represented individually.
The canonical way to tokenise for topic modelling involves stemming, and it also involves removing <em>stop words</em> — words like "the", and "and" that are more syntactic than semantic.</p>
<p>I am not entirely convinced that this latter is appropriate.
The reason is that the grammatically of words exists on a continuum.
Even the word "the" carries semantic weight, though its main function is probably to signal the boundaries of syntactic chunks.</p>
<hr class="docutils">
<blockquote>
<p>My favourite example of the syntactic function of "the" comes from <a class="reference external" href="http://en.wikipedia.org/wiki/Petr_Beckmann">Petr Beckmann</a> 's book <em>The structure of language: a new approach</em>, which has profoundly influenced me since my undergraduate days.
In it he shows how the following headline is disambiguated by the placement of "the" before or after "biting":</p>
<p>"Man Refuses to Give up Biting Dog"</p>
</blockquote>
<hr class="docutils">
<p>A couple of years ago at <a class="reference external" href="http://www.wikicfp.com/cfp/servlet/event.showcfp?eventid=18614">the NAACL conference</a>,
there was a session where a few prominent computational linguists presented their favourite papers from the past.
Eugene Charniak presented Kenneth Church's 2000 COLING paper: <em>Empirical Estimates of Adaptation:</em>
<em>The chance of Two Noriegas is closer to</em> <span class="math">\(p/2\)</span> <em>than</em> <span class="math">\(p^2\)</span>.
It introduced a measure of adaptation for language models based on how much a recent occurrence of a word increases its tendency to occur beyond what is already expected.</p>
<p>Charniak used this paper as a background with which to present a new idea about the way the prior likelihood of a word predicts its future occurrences.
He divided words into sets according to how well their priors predicted them.
Stop words were most likely to be true to priors, and content words least, with verbs at the end of the spectrum.</p>
<p>At the time I took this as evidence for the stratification of grammaticality.
Because of this stratification, treating stop words as a special set appears arbitrary and oversimplified.
I expect that leaving stop words in a topic model would simply result in having some topics that are distributed more evenly throughout the corpus of documents.
These topics would discriminate among documents poorly.
However, this result should also be part of a continuum.
It may be useful to account for the distribution of topics when using them in LDA, in a way analogous to <a class="reference external" href="http://en.wikipedia.org/wiki/Tf%E2%80%93idf">inverse document frequency</a> in <a class="reference external" href="http://en.wikipedia.org/wiki/Latent_semantic_analysis">latent semantic analysis</a>.</p>
<hr class="docutils">
<p>More generally, I am interested in the phenomenon that words vary in their semantic and syntactic load.
Even just within semantics, a morpheme may carry more than one meaning that cannot be decomposed linguistically.
For example, "uncle" is male, and while we could assign "uncle" a set of semantic features in a computer system in order to reason about its meaning, those features are only implicit in English.
In <a class="reference external" href="http://en.wikipedia.org/wiki/Logogram">logographic writing systems</a> this is all the more apparent.</p>
<p>This simultaneity of features in an apparently linear system is, to me, one of the most interesting aspects of language, and one of the reasons computational linguistics is difficult and rewarding.</p>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/productively-lost.html" class="u-url">Productively Lost</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/productively-lost.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-23T15:21:37Z" itemprop="datePublished" title="2014-07-23 15:21">2014-07-23 15:21</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/productively-lost.html#disqus_thread" data-disqus-identifier="cache/posts/productively-lost.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p>Yesterday Hacker School's resident <a class="reference external" href="http://blog.melchua.com/about/">Mel Chua</a> shared her work on educational psychology theory for Hacker School <a class="footnote-reference brackets" href="../posts/productively-lost.html#id2" id="id1">1</a>.
I had seen an earlier iteration of this talk from PyCon video archives, and it was useful to me then.
However, this time I had more relevant experience with which to understand it.
Hacker School is the first time I have had such a fluid and indeterminate educational experience.
Even graduate school was more structured, and with more fixed goals.</p>
<p>I have previously compared Hacker School to a game of Tetris, in which new exciting things are constantly dropping from the sky, and you can't get them all and fit them all into your life.
Eventually you will lose, but it is fun to try, anyway.
I like this analogy, but in some ways it is too passive.
Hacker School (and life in general, if you let it) is more like a giant maze with more and more doors appearing all the time.
Many paths connect to each other, and you may find yourself back where you were before, but from a new perspective.
Here I can see more clearly than ever before the unboundedness of the space of learning, and this makes the idea of a best path through it almost laughable.
That's not to say that there are no poor ways to learn.
Only that that are many good ways.</p>
<p>One central message from Mel's talk was the idea of being <em>Productively Lost</em>.
Given that you are your own guide in an infinite maze makes being lost natural.
The question is how to make the best of your learning given that situation.</p>
<p>Mel talked about using measurement to guide learning, in analogy with Test-Driven-Design.
She talked about how to most effectively join an open source project so that you can maximise your interactions and contributions for everyone's benefit, and for your own development.
There was also a section on motivation, self-efficacy, and attitudes.</p>
<p>She mentioned different learning styles, and followed up later in the day with a workshop on the topic.
I found this enormously helpful, because instead of just coming out with a label, which I have done in the past with this kind of theory,
I was able to see strategies that make better use of my strengths.
By reviewing my experiences at Hacker School so far, and relating them to these axes, I feel I am in a better position to enhance my learning experiences deliberately.</p>
<p>Mel also talked about the progression of learning.
Learning tends to follow a cyclical pattern of periods of <em>assimilation</em> of new ideas into an existing mental model followed by a paradigm shift that requires <em>accommodation</em>.
Accommodation is needed when new ideas are fitting less well into the existing model, and an extensive refactorisation makes everything fit more naturally.
This stage is slow and uncomfortable, and may even feel like a regression.
After this, there is a shorter period during which learning new things with the new model is fast and rewarding, before reaching another steadier state of assimilation.</p>
<hr class="docutils">
<p>Even though I have taken my own way on some critical aspects of my life,
much of my life is characterisable by following paths that were set by someone else, or were simply unexamined pursuit of "the way things are done".
Applying to Hacker School in the first place was a big, intimidating step away from this pattern that stretched my courage.
It rivals the most rewarding decisions of my life so far.
The increased autonomy and competence I am developing here feels like a new freedom, a tipping point into a feedback loop of self-expression and creative action that goes way beyond any particular programming concept I have learned while here.</p>
<p>Becoming comfortable with this fundamental lostness, and yet feeling adequate to navigate it, is ultimately much more empowering than the security of excelling at following well-lit, paths sanctioned and rewarded by others.</p>
<hr class="docutils">
<p>.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="../posts/productively-lost.html#id1">1</a></span></dt>
<dd>
<p>Slides from last year's version here: <a class="reference external" href="http://blog.melchua.com/2013/10/07/edupsych-for-hacker-schoolers-v-1-1-presentation-slides/">http://blog.melchua.com/2013/10/07/edupsych-for-hacker-schoolers-v-1-1-presentation-slides/</a></p>
</dd>
</dl>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/addresses-and-contents.html" class="u-url">Addresses and Contents</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/addresses-and-contents.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-09T21:42:03Z" itemprop="datePublished" title="2014-07-09 21:42">2014-07-09 21:42</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/addresses-and-contents.html#disqus_thread" data-disqus-identifier="cache/posts/addresses-and-contents.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <section id="what-are-we-naming"><h2>What are we naming?</h2>
<blockquote>
<p>The name of the song is called "Haddocks' Eyes."'</p>
<p>'Oh, that's the name of the song, is it?' Alice said, trying to feel interested.</p>
<p>'No, you don't understand,' the Knight said, looking a little vexed. 'That's what the name is called. The name really is "The Aged Aged Man."'</p>
<p>'Then I ought to have said "That's what the song is called"?' Alice corrected herself.</p>
<p>'No, you oughtn't: that's quite another thing! The song is called "Ways and Means": but that's only what it's called, you know!'</p>
<p>'Well, what is the song, then?' said Alice, who was by this time completely bewildered.</p>
<p>'I was coming to that,' the Knight said. 'The song really is "A-sitting On A Gate": and the tune's my own invention.'</p>
<p class="attribution">—<a class="reference external" href="http://www.alice-in-wonderland.net/books/2chpt8.html">Alice Through the Looking Glass</a></p>
</blockquote>
</section><section id="mutability-applies-to-content"><h2>Mutability applies to content</h2>
<p>I have been designing a system that seeks to change the way we name our data:
instead of naming the hierarchical way, using directories (or folders), it will name the category way, using tags.
Because the system needed an ID for every file it tagged, and perhaps for no other good reason than that I am fond of content-based hashing,
I chose to use a content-based hash for the IDs.
However, this ID is not a good match for mutable files.
I had been putting off thinking about how to handle mutable files, figuring I could add that functionality later.</p>
<p>When I was finally ready to confront mutable files, I realised that I was running up against a fundamental issue:</p>
</section><section id="people-often-conflate-addresses-with-contents-when-naming-things"><h2>People often conflate addresses with contents when naming things</h2>
<p>Take for example the problem of citation.
If you cite a book or a research paper, then what you are citing is the contents.
When we first started wanting to cite URLs, we treated them as though we were addressing content, but we aren't.
URLs point to content that can change.</p>
<p>Of course, this issue shows up in many areas of computer science whenever we use references.</p>
</section><section id="filesystems"><h2>Filesystems</h2>
<p>In a filesystem, we usually refer to files by their paths.
The relationships between paths, addresses (inodes), and contents are shown here:</p>
<img alt="https://lh5.googleusercontent.com/-0dFaK3jKirQ/U78BnodwrUI/AAAAAAAACPs/mGzaDJfLZk4/w426-h376-no/name_triangle.png" src="https://lh5.googleusercontent.com/-0dFaK3jKirQ/U78BnodwrUI/AAAAAAAACPs/mGzaDJfLZk4/w426-h376-no/name_triangle.png"><p>That is, a pathname refers to a single inode, but not necessarily vice versa.
An inode has exactly one set of contents, but those contents may be replicated in many inodes in the system.
I didn't recognise at first that the problem of mutable and immutable files is the distinction between addresses and contents.</p>
<p>As far as file systems go, I don't know of any that make the distinction between contents and addresses, except Tahoe-LAFS.
The reference to an immutable file in Tahoe is content based for integrity and deduplication.
The reference to a mutable file just specifies a unique "slot".</p>
<p>I've decide to follow this paradigm in Protagonist.
Both addresses and contents should be eligible for tagging.
Tagging the box will use the inode.
Tagging the contents will use the hash.</p>
<!-- The fact that we make extensive use of links in our systems attests the fact that hierarchies are not a great model for naming things. -->
</section>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/how-i-transformed-a-blogger-blog-to-a-nikola-two-blog-website.html" class="u-url">How I transformed a Blogger blog to a Nikola two-blog website</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/how-i-transformed-a-blogger-blog-to-a-nikola-two-blog-website.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-08T16:59:38Z" itemprop="datePublished" title="2014-07-08 16:59">2014-07-08 16:59</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/how-i-transformed-a-blogger-blog-to-a-nikola-two-blog-website.html#disqus_thread" data-disqus-identifier="cache/posts/how-i-transformed-a-blogger-blog-to-a-nikola-two-blog-website.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p>In the last post I described why I wanted to move my blog, and what went into my choices.
My goal in exporting my site from Blogger to Nikola was to separate my content into two separate blogs on a single site:
one which is the primary blog, and the other which resides in the background.
I wanted them to be archived separately.
I also wanted there to be a front page that didn't change every time I wrote a new post.</p>
<section id="importing-the-blog"><h2>Importing the blog</h2>
<p>Nikola has a plugin to import a blog from Blogger, so the first step was to import the blog.
To import, I took the following steps:</p>
<ul class="simple">
<li><p>First, I exported my blog from Blogger, which gave me a file called <cite>blog-07-05-2014.xml</cite>. Then,</p></li>
</ul>
<pre class="code text"><a name="rest_code_823788c4eacc442a91b043f096e9b3b2-1"></a>$ sudo pip install nikola
<a name="rest_code_823788c4eacc442a91b043f096e9b3b2-2"></a>$ nikola plugin -i import_blogger
<a name="rest_code_823788c4eacc442a91b043f096e9b3b2-3"></a>$ nikola import_blogger -o site blog-07-05-2014.xml # The -o tells nikola what directory to make the site in.
</pre>
<p>After this, I had some cleanup to do.
For one thing, Nikola renamed all the Blogger files (in a sensible way).
Blogger has date-derived subdirectories for posts, whereas in Nikola all the posts are kept in one folder, called "posts"
So when the new site is up, redirects will be required for anyone with the old link.</p>
<p>The import gave me a file called <cite>url_map.csv</cite>, which contained all the information necessary to redirect the old links to their new locations, but as far as I could tell, those redirects still had to be encoded into the configuration file to take effect.
Since I only had a few, I did this manually.
For every line in the url_map, I inserted a tuple into the <cite>REDIRECTIONS</cite> list in <cite>conf.py</cite>.</p>
<p>The result at this point was a Nikola blog that contained everything the old blog did.</p>
</section><section id="making-it-not-a-blog"><h2>Making it not a blog</h2>
<p>There is a document in the Nikola project describing <a class="reference external" href="http://getnikola.com/creating-a-site-not-a-blog-with-nikola.html">how to make a non-blog site</a>.
The instructions boil down to changing three lines of <cite>conf.py</cite>.</p>
<section id="posts-and-pages"><h3>Posts and Pages</h3>
<p>As usual, Nikola distinguishes two different kinds of text-derived files.</p>
<ul class="simple">
<li><p><em>Posts</em> are blog files.
They are archived, indexed by tag, and ordered by date for display.</p></li>
<li><p><em>Pages</em> are essentially independent.</p></li>
</ul>
<p>So to make a blog into a non-blog, you simply manipulate the variable <cite>POSTS</cite> defined in <cite>conf.py</cite>.
<cite>POSTS</cite> and <cite>PAGES</cite> are lists describing where to find posts or pages respectively, where to render them, and what template to use for them.
We let the <cite>POSTS</cite> list be empty, so everything on the site will be a page.</p>
<pre class="code text"><a name="rest_code_973a085fbbc44f809bb4021eee747136-1"></a>POSTS = []
<a name="rest_code_973a085fbbc44f809bb4021eee747136-2"></a>PAGES = [
<a name="rest_code_973a085fbbc44f809bb4021eee747136-3"></a>        ("pages/*.rst", "", "story.tmpl"),
<a name="rest_code_973a085fbbc44f809bb4021eee747136-4"></a>        ("pages/*.txt", "", "story.tmpl"),
<a name="rest_code_973a085fbbc44f809bb4021eee747136-5"></a>        ]
</pre>
<p>The two entries for <cite>PAGES</cite> are here to allow either txt or rst, but the one that comes first is what will be used when you use the <cite>new_post</cite> command.</p>
<p>So you can create a <em>page</em> called "index.html" by running <cite>new_post -p</cite>, and giving it the name <cite>index</cite>.</p>
<pre class="code text"><a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-1"></a>$ nikola new_post -p
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-2"></a>
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-3"></a>[...]
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-4"></a>
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-5"></a>Creating New Page
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-6"></a>-----------------
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-7"></a>
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-8"></a>Title: index
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-9"></a>
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-10"></a>[...]
<a name="rest_code_78098978dd1f43e28aa35ad4036fc3cd-11"></a>INFO: new_page: Your page's text is at: pages/index.rst
</pre>
<p>Since we put it at "", which is the top level of the site, it will be what you see on the "front page".</p>
<p>Unfortunately, this creates a conflict, because when you build the site, the <em>blog</em> part is already wired to make an index.html file in the top-level directory, since that's how blogs normally appear.
So you intercept this by adding to <cite>conf.py</cite> the line:</p>
<pre class="code text"><a name="rest_code_6169b637b11a493cba75143a03509c24-1"></a>INDEX_PATH = "blog"
</pre>
<p>This just makes it so the blog index is now created under the folder blog, instead of the top level, and it no longer conflicts.</p>
<p>It also means that now you can have a regular blog under the subdirectory blog, by putting options back in for <cite>POSTS</cite>:</p>
<pre class="code text"><a name="rest_code_65fe22b04c084ce09cb8efaeaa0ffc27-1"></a>POSTS = [("posts/*.rst", "blog", "post.tmpl")]
</pre>
<p>But this is not enough for us, because we have imported posts from Blogger that were also being found from the <cite>POSTS</cite> list.
There is another entry in <cite>POSTS</cite> that we need back, that tells Nikola to also collect and render existing html files, such as those we imported.
So we need to add:</p>
<pre class="code text"><a name="rest_code_83312868b93b48bbaa39a46633395453-1"></a>("posts/*.html", "blog", "post.tmpl")
</pre>
<p>back into the list.</p>
</section></section><section id="two-blogs"><h2>Two blogs</h2>
<p>At this point I had part of what I wanted.
I had a front page separate from my blog, and all of my previous blog reachable from the site.
But I still wanted to have two blogs, a primary one for themed entries, and a journal for unstructured reflections.</p>
<p>Here are the steps I took to factor the blogs apart:</p>
<ul class="simple">
<li><p>Made a new directory for the journal posts called "journal", and moved the appropriate files into it.</p></li>
<li><p>Added ("journal/<em>.rst", "journal", "story.tmpl") and ("journal/</em>.html", "journal", "story.tmpl") to the <cite>PAGES</cite> list, so old and new journal entries can be found for rendering.</p></li>
<li><p>Updated the conf.py <cite>REDIRECTIONS</cite> to reflect those</p></li>
</ul>
<p>This worked to render them and include them in the site, but the journal articles were not indexed.
That meant that if I knew the URL, I could go to the article, but a visitor to the site could never discover them.</p>
<p>To add indexing I had to add to conf.py:</p>
<pre class="code text"><a name="rest_code_a3b879e67e824208af4383b5d09dce71-1"></a>STORY_INDEX = True
</pre>
<p>But again, this created a conflict with multiple files called "index.html" trying to go in the same folder.
So I also had to change the name of the index.  I chose "index.htm", so that the server would automatically redirect.</p>
<pre class="code text"><a name="rest_code_ce41733c032841318ba618b8a4bf8825-1"></a>INDEX_FILE = "index.htm"
</pre>
<p>Finally, I wanted the journal to be findable without knowing the directory name "journal", so I updated the navigation links:</p>
<pre class="code text"><a name="rest_code_2976cfde4f9f407a812069b0db647910-1"></a>NAVIGATION_LINKS = {
<a name="rest_code_2976cfde4f9f407a812069b0db647910-2"></a> DEFAULT_LANG: (
<a name="rest_code_2976cfde4f9f407a812069b0db647910-3"></a>     ("/archive.html", "Archive"),
<a name="rest_code_2976cfde4f9f407a812069b0db647910-4"></a>     ("/categories/", "Tags"),
<a name="rest_code_2976cfde4f9f407a812069b0db647910-5"></a>     ("/blog/", "Blog"),
<a name="rest_code_2976cfde4f9f407a812069b0db647910-6"></a>     ("/journal/", "Journal"),
<a name="rest_code_2976cfde4f9f407a812069b0db647910-7"></a>     ("/rss.xml", "RSS feed"),
<a name="rest_code_2976cfde4f9f407a812069b0db647910-8"></a>  ),
<a name="rest_code_2976cfde4f9f407a812069b0db647910-9"></a> }
</pre>
<p>As an extra configuration tweak, I set <cite>TAG_PAGES_ARE_INDEXES = True</cite>, so that when you go to the page for a given tag, it renders the posts themselves, rather than a list.</p>
<p>I would like to do that for my journal index as well, but that feature is not yet general, so if you navigate to "Journal" you will get a list of posts, and unfortunately, since it is a journal, they are named by date.
Moreover, their tags aren't collected.</p>
</section><section id="parting-thoughts"><h2>Parting thoughts</h2>
<p>All in all, I'm satisfied with the move.
I got a lot of help from the Nikola community, and my main requirements are fulfilled.</p>
<p>There are a few remaining troubles.</p>
<section id="comments"><h3>Comments</h3>
<p>I signed up with Disqus, and think I have initiated the process of importing my old comments, which I was reluctant to lose.
It takes an unspecified amount of time to complete, so I'm hoping that will take care of itself now, but I'm uncertain.</p>
</section><section id="orphaned-rst"><h3>Orphaned rst</h3>
<p>Because of the way I built my Blogger site: writing in reStructuredText, converting to HTML, and uploading, I still have the original, pristine rst files on my local system, but Nikola doesn't use them.
It uses the backported HTML from Blogger.
In order to inject the old rst files into Nikola, however, would require manually editing them all to include the correct headers and timestamps.
This seems like a lot of work, and I'm not willing to do it right now.</p>
</section></section>
</div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/moving-my-site-off-of-blogger.html" class="u-url">Moving my site off of Blogger</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        L. Amber Wilcox-O'Hearn
                    </span></p>
            <p class="dateline">
            <a href="../posts/moving-my-site-off-of-blogger.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-08T16:48:18Z" itemprop="datePublished" title="2014-07-08 16:48">2014-07-08 16:48</time></a>
            </p>
                        <p class="commentline">
    
    <a href="../posts/moving-my-site-off-of-blogger.html#disqus_thread" data-disqus-identifier="cache/posts/moving-my-site-off-of-blogger.html">Comments</a>


                </p>
</div>
            </header><div class="p-summary entry-summary">
                    <p>I was having two problems with the setup of this website.
First, I wanted to factor out <a class="reference external" href="http://www.subsymbol.org/journal/">the experiment in vulnerability and transparency that I have been doing by keep a log of my daily goals, progress, and insights at Hacker School</a>.
I like the experiment, but I wanted it to be separate from <a class="reference external" href="http://www.subsymbol.org/blog/">articles I write more deliberately</a>.</p>
<p>The second problem was that I wanted to migrate from Blogger.</p>
<p>Blogger has advantages.
It is easy to set up, and freely hosted.
It has themes, comments, and a variety of plugins.
You can export your stuff if you want to, so you aren't completely locked in.</p>
<p>However, Blogger is not a good match for someone who wants fine-grained control over her content.
My use of Blogger for the three sites I have hosted on it has consisted of the following elaborate dance:</p>
<ol class="arabic simple">
<li><p>Edit my post in reStructuredText <a class="footnote-reference brackets" href="../posts/moving-my-site-off-of-blogger.html#id3" id="id1">1</a>.</p></li>
<li><p>Convert my post into HTML using a custom script I adapted from <a class="reference external" href="https://pypi.python.org/pypi/rst2blogger">rst2blogger</a> <a class="footnote-reference brackets" href="../posts/moving-my-site-off-of-blogger.html#id4" id="id2">2</a>.</p></li>
<li><p>Cut and paste my post into the Blogger compose form, click <cite>Preview</cite>, and see if it looked ok.</p></li>
<li><p>Repeat until all typos and other issues were resolved.</p></li>
<li><p>Click <cite>Publish</cite>.</p></li>
</ol>
<p>The result of all this work was a site that looked more-or-less how I wanted it to in some ways, but was frustrating in others.
For example,</p>
<ul class="simple">
<li><p>I couldn't change the css styles that went with a given theme, (and some of them were really dysfunctional).</p></li>
<li><p>I couldn't make the site <em>not a blog</em> — the blog assumption is that your most recent content ought to be your most prominent, and this is not an appropriate assumption for some of my use cases.
I sometimes found myself putting off making a post that was less compelling until I knew I could follow it with a better one quickly!
The restrictiveness wasn't serving me.</p></li>
</ul>
<p>Also, a little independence from Google seems healthy.</p>
<p>What I really wanted was a static site generator, with no dynamic logic on a server-side database.
I wanted my whole site complete and rendered on my local machine to do with what I liked.
In other words, I wanted a static site generator.</p>
<section id="choosing-a-static-site-generator"><h2>Choosing a static site generator</h2>
<p>My criteria were:</p>
<ul class="simple">
<li><p>Open source</p></li>
<li><p>Python</p></li>
<li><p>Works to generate non-blog sites.</p></li>
</ul>
<p>This gave me two choices that I knew of: <a class="reference external" href="http://blog.getpelican.com/">Pelican</a>, and <a class="reference external" href="http://getnikola.com/">Nikola</a>.</p>
<p>I have had my eyes on Pelican for some time now.
I didn't like the way the resulting websites looked, though, until recently.
They had a jarring "I'm a programmer, not a designer" feel.
Being a programmer and not a designer, I can't articulate it much more precisely than that.
These days, the sites look fine to me.
The docs are well written, the code looks good, and <a class="reference external" href="http://www.lothar.com/blog/">people whose opinions about such things I respect</a> use it.</p>
<p>In the meantime, I also found out about Nikola,
which was recommended by <a class="reference external" href="https://github.com/punchagan">another respected coder-friend</a>.</p>
<p>I decided to use Nikola, in part because it has a plugin to import from Blogger, and in part because the above-mentioned friend offered to help me.</p>
<p>In the next post, I'll describe how I ported my Blogger blog into a Nikola blog.</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="../posts/moving-my-site-off-of-blogger.html#id1">1</a></span></dt>
<dd>
<p>I used to write in pure HTML, but after much goading from Zooko, I switched to rst.  I'm glad; I find rst more flexible.</p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="../posts/moving-my-site-off-of-blogger.html#id2">2</a></span></dt>
<dd>
<p>I didn't want the script to deploy it, because I didn't want to trust the script with my Google authentication, so I took that part out.  I also changed some heading styles that Blogger doesn't render well.</p>
</dd>
</dl></section>
</div>
            </article>
</div>
    
        <ul class="pager postindexpager clearfix">
<li class="next"><a href="index-1.html" rel="next">Older posts</a></li>
        </ul>
<script>var disqus_shortname="subsymbol.org";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2022         <a href="mailto:amber@cs.toronto.edu">L. Amber Wilcox-O'Hearn</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
