<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hacker School, Tuesday, July 15th, 2014 | subsymbol.org</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="http://www.subsymbol.org/journal/hacker-school-tuesday-july-15th-2014.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="L. Amber Wilcox-O'Hearn">
<meta property="og:site_name" content="subsymbol.org">
<meta property="og:title" content="Hacker School, Tuesday, July 15th, 2014">
<meta property="og:url" content="http://www.subsymbol.org/journal/hacker-school-tuesday-july-15th-2014.html">
<meta property="og:description" content="Because this journal is an experiment in transparent learning, I think the fact that Tuesday was a difficult day for me is important to take note of.
Although the personal issues from the previous day">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-07-16T23:11:57Z">
<meta property="article:tag" content="checkin">
<meta property="article:tag" content="hacker school">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../">

            <span id="blog-title">subsymbol.org</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item">
    <a href="hacker-school-tuesday-july-15th-2014.rst" id="sourcelink" class="nav-link">Source</a>
    </li>


                    
            </ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../categories/blog/" class="nav-link">Blog</a>
                </li>
<li class="nav-item">
<a href="." class="nav-link">Journal</a>
                </li>
<li class="nav-item">
<a href="../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Hacker School, Tuesday, July 15th, 2014</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    L. Amber Wilcox-O'Hearn
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2014-07-16T23:11:57Z" itemprop="datePublished" title="2014-07-16 23:11">2014-07-16 23:11</time></a>
            </p>
                <p class="commentline">
    
    <a href="hacker-school-tuesday-july-15th-2014.html#disqus_thread" data-disqus-identifier="cache/journal/hacker-school-tuesday-july-15th-2014.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="hacker-school-tuesday-july-15th-2014.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Because this journal is an experiment in transparent learning, I think the fact that Tuesday was a difficult day for me is important to take note of.
Although the personal issues from the previous day were more or less resolved, my focus was still affected.</p>
<p>After watching some more cryptography lectures, I started going through Protagonist, with my design change notes I had written at the end of last week.
I was really happy that I had good unit testing in the code, because I could just go through each test, and modify it to match the new requirements.
I was humming along in this way, when I noticed a problem in my new design.</p>
<p>The problem involves the encoding of pathnames.
Even though a goal of the project is to move away from pathnames, I still wanted to encode them, for two reasons.</p>
<p>First, if <cite>tag ls</cite> returns the list of file IDs to the user, the user might not recognise the files, because the IDs are (or were) hashes.
Ultimately, I would like to have tags completely replace names.
<cite>tag ls</cite> could return each matching file ID accompanied by all of its tags.
If the files were tagged densely enough, this should be enough information for the user to recognise files, if the <cite>ls</cite> were part of a manual search.
If the system was sparsely tagged, however, this might return a large, mostly indistinguishable list.
Relatedly, sometimes you might want to send the output to a function that needs the pathname.
I'm not sure in what situation the hardlink wouldn't do, but it's possible.</p>
<p>The second reason I wanted to encode pathnames was because I was imagining using Protagonist as an encapsulation of the underlying filesystem that could be used to recover the files in it back to the filesystem.</p>
<p>However, at no point did I want to reconstruct the path hierarchies within the Protagonist structure.
This is why I used text files to hold the pathnames.</p>
<p>Under the new design, I intend to construct a more complete database, but still constructing tables out of files and directories.
One of the tables was going to be called inodes.
It was going to look something like this:</p>
<pre class="code text"><a name="rest_code_312709a8228f4cc997b4d7b2c11136be-1"></a>   .
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-2"></a>└── .protagonist
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-3"></a>    └── inodes
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-4"></a>        ├── i0
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-5"></a>        │   ├── p0
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-6"></a>        │   │   └── somehash
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-7"></a>        │   ├── p1
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-8"></a>        │   └── p2
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-9"></a>        ├── i1
<a name="rest_code_312709a8228f4cc997b4d7b2c11136be-10"></a>        └── i2
</pre>
<p>(not fully filled in)</p>
<p>There is a list of inodes IDs, each of which has one or more paths that link to it, and those paths have hard links in the form of hashes to the inodes.</p>
<p>The problem here is that pathnames are strings with '/'s in them, which makes for difficulty in constructing directory names without reconstructing the path.
Last time I solved it by inserting these into text files, but now they are not leaves, and they are not unique.</p>
<p>I felt I didn't have the focus to solve that , so I went back to listening to lectures.</p>
<p>However, writing this out explicitly made me realise that every hash under a given inode subtree will be the same.  So I can easily have the pathnames be leaves in this tree.
There are other parts of the design I will have to reorganise, but feel less stuck than I was.
That may be partially because I am writing this post two days after the fact, and have had more time to gestate the idea, and get out of the funk.
Writing in this way has been a helpful process to me.
I'm glad I chose to do it.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/checkin.html" rel="tag">checkin</a></li>
            <li><a class="tag p-category" href="../categories/hacker-school.html" rel="tag">hacker school</a></li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
    
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="subsymbol.org",
            disqus_url="http://www.subsymbol.org/journal/hacker-school-tuesday-july-15th-2014.html",
        disqus_title="Hacker School, Tuesday, July 15th, 2014",
        disqus_identifier="cache/journal/hacker-school-tuesday-july-15th-2014.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="subsymbol.org";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2022         <a href="mailto:amber@cs.toronto.edu">L. Amber Wilcox-O'Hearn</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
